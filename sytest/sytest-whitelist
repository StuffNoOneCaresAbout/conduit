/context/ on joined room works
/context/ returns correct number of events
3pid invite join valid signature but revoked keys are rejected
3pid invite join valid signature but unreachable ID server are rejected
3pid invite join with wrong but valid signature are rejected
AS cannot create users outside its own namespace
After changing password, a different session no longer works by default
After changing password, can log in with new password
After changing password, can't log in with old password
After deactivating account, can't log in with an email
After deactivating account, can't log in with password
Alternative server names do not cause a routing loop
Banned user is kicked and may not rejoin until unbanned
Both GET and PUT work
Can /sync newly created room
Can add account data
Can add account data to room
Can create backup version
Can create filter
Can deactivate account
Can download file 'ascii'
Can download without a file name locally
Can forget room you've been kicked from
Can get account data without syncing
Can invite users to invite-only rooms
Can logout all devices
Can logout current device
Can re-join room if re-invited
Can read configuration endpoint
Can send a message directly to a device using PUT /sendToDevice
Can sync
Can update backup version
Can upload device keys
Can upload with ASCII file name
Can upload without a file name
Can't deactivate account with wrong password
Changing the actions of an unknown default rule fails with 404
Changing the actions of an unknown rule fails with 404
Checking local federation server
Ephemeral messages received from clients are correctly expired
Event size limits
Existing members see new members' join events
Forgetting room does not show up in v2 /sync
Forgotten room messages cannot be paginated
GET /capabilities is present and well formed for registered user
GET /device/{deviceId} gives a 404 for unknown devices
GET /events with negative 'limit'
GET /events with non-numeric 'limit'
GET /events with non-numeric 'timeout'
GET /login yields a set of flows
GET /profile/:user_id/displayname publicly accessible
GET /publicRooms lists newly-created room
GET /register yields a set of flows
GET /rooms/:room_id/state/m.room.member/:user_id fetches my membership
GET /rooms/:room_id/state/m.room.power_levels can fetch levels
GET /rooms/:room_id/state/m.room.power_levels fetches powerlevels
Getting push rules doesn't corrupt the cache SYN-390
Invited user can reject invite
Invited user can reject invite for empty room
Invited user can reject local invite after originator leaves
Joining room twice is idempotent
Latest account data appears in v2 /sync
Local non-members don't see posted message events
Message history can be paginated
Name/topic keys are correct
New account data appears in incremental v2 /sync
New room members see their own join event
POST /createRoom ignores attempts to set the room version via creation_content
POST /createRoom makes a private room
POST /createRoom makes a private room with invites
POST /createRoom makes a public room
POST /createRoom makes a room with a name
POST /createRoom makes a room with a topic
POST /join/:room_alias can join a room
POST /join/:room_alias can join a room with custom content
POST /join/:room_id can join a room
POST /join/:room_id can join a room with custom content
POST /login as non-existing user is rejected
POST /login can log in as a user
POST /login can log in as a user with just the local part of the id
POST /login returns the same device_id as that in the request
POST /login wrong password is rejected
POST /media/v1/upload can create an upload
POST /register can create a user
POST /register downcases capitals in usernames
POST /register rejects registration of usernames with '!'
POST /register rejects registration of usernames with '"'
POST /register rejects registration of usernames with '''
POST /register rejects registration of usernames with ':'
POST /register rejects registration of usernames with '?'
POST /register rejects registration of usernames with '@'
POST /register rejects registration of usernames with '['
POST /register rejects registration of usernames with '\'
POST /register rejects registration of usernames with '\n'
POST /register rejects registration of usernames with ']'
POST /register rejects registration of usernames with '{'
POST /register rejects registration of usernames with '|'
POST /register rejects registration of usernames with '}'
POST /register rejects registration of usernames with '£'
POST /register rejects registration of usernames with 'é'
POST /register returns the same device_id as that in the request
POST /rooms/:room_id/ban can ban a user
POST /rooms/:room_id/invite can send an invite
POST /rooms/:room_id/join can join a room
POST /rooms/:room_id/leave can leave a room
POST /rooms/:room_id/read_markers can create read marker
POST /rooms/:room_id/send/:event_type sends a message
POST rejects invalid utf-8 in JSON
PUT /device/{deviceId} gives a 404 for unknown devices
PUT /directory/room/:room_alias creates alias
PUT /profile/:user_id/avatar_url sets my avatar
PUT /profile/:user_id/displayname sets my name
PUT /rooms/:room_id/send/:event_type/:txn_id deduplicates the same txn id
PUT /rooms/:room_id/send/:event_type/:txn_id sends a message
PUT /rooms/:room_id/state/m.room.power_levels can set levels
PUT /rooms/:room_id/typing/:user_id sets typing notification
PUT power_levels should not explode if the old power levels were empty
Request to logout with invalid an access token is rejected
Request to logout without an access token is rejected
Room aliases can contain Unicode
Room creation reports m.room.create to myself
Room creation reports m.room.member to myself
Room members can join a room with an overridden displayname
Room members can override their displayname on a room-specific basis
Setting state twice is idempotent
Should reject keys claiming to belong to a different user
Trying to get push rules with unknown rule_id fails with 404
Uninvited users cannot join the room
User appears in user directory
User directory correctly update on display name change
User in dir while user still shares private rooms
User in shared private room does appear in user directory
User signups are forbidden from starting with '_'
Users cannot invite a user that is already in the room
Users cannot invite themselves to a room
Users cannot kick users from a room they are not in
Users cannot kick users who have already left a room
Version responds 200 OK with valid structure
avatar_url updates affect room member events
displayname updates affect room member events
query for user with no keys returns empty key dict
